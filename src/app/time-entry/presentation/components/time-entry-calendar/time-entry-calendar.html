<div class="calendar-container glass-morph">
  <div class="calendar-header">
    <h2 class="page-title">Calendario</h2>

    <div class="month-paginator">
      <button mat-icon-button (click)="prevMonth()"><mat-icon>chevron_left</mat-icon></button>
      <span class="current-month">{{ currentDate() | date:'MMM yyyy' | uppercase }}</span>
      <button mat-icon-button (click)="nextMonth()"><mat-icon>chevron_right</mat-icon></button>
      
      <!-- Botón Hoy estilo iOS (Píldora pequeña) -->
      <button class="btn-today-ios" (click)="goToToday()" [disabled]="isCurrentMonth()">
        Hoy
      </button>
    </div>
  </div>

  <div class="calendar-grid">
    <!-- Headers con iniciales para ahorrar espacio en móvil -->
    @for (day of weekDays; track day) {
      <div class="weekday-header">{{ day | slice:0:1 }}</div>
    }

    @for (day of calendarGrid(); track day.date) {
      <div class="calendar-day" 
           [class.other-month]="!day.isCurrentMonth"
           [class.today]="day.isToday">
        
        <span class="day-number">{{ day.date | date:'d' }}</span>

        @if (day.totalMinutes > 0) {
          <div class="dot-indicator"></div>
          <span class="hours-label">{{ formatHours(day.totalMinutes) }}</span>
        }
      </div>
    }
  </div>
</div>
